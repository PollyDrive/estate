# Requirements & Setup Guide

–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ RealtyBot-Bali.

## –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

**–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
- OS: Linux, macOS, –∏–ª–∏ Windows —Å WSL2
- RAM: 2GB –º–∏–Ω–∏–º—É–º
- Disk: 5GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- Docker: 20.10+
- Docker Compose: 2.0+

**–î–ª—è VPS —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:**
- OS: Ubuntu 20.04+ / Debian 11+ / CentOS 8+
- RAM: 1GB –º–∏–Ω–∏–º—É–º (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 2GB)
- Disk: 10GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- Docker: 20.10+
- Docker Compose: 2.0+
- –û—Ç–∫—Ä—ã—Ç—ã–π –ø–æ—Ä—Ç: –Ω–µ—Ç (–≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏ Docker)

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

**VPS:**
- RAM: 2GB+
- CPU: 2 cores
- Disk: 20GB SSD
- Network: –°—Ç–∞–±–∏–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

## –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ü–û

1. **Docker**
   ```bash
   # Ubuntu/Debian
   curl -fsSL https://get.docker.com -o get-docker.sh
   sh get-docker.sh
   
   # –î–æ–±–∞–≤–∏—Ç—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É docker
   sudo usermod -aG docker $USER
   ```

2. **Docker Compose**
   ```bash
   # –û–±—ã—á–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å Docker
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏
   docker-compose --version
   ```

3. **Git** (–¥–ª—è –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)
   ```bash
   # Ubuntu/Debian
   sudo apt-get install git
   
   # macOS (—á–µ—Ä–µ–∑ Homebrew)
   brew install git
   ```

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ü–û

- **PostgreSQL –∫–ª–∏–µ–Ω—Ç** (–¥–ª—è —Ä—É—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –ë–î)
  ```bash
  sudo apt-get install postgresql-client
  ```

- **curl** (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API)
  ```bash
  sudo apt-get install curl
  ```

## API –ö–ª—é—á–∏ –∏ –°–µ—Ä–≤–∏—Å—ã

### 1. Apify

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö —Å Facebook Marketplace

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å:**
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://apify.com/
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Settings ‚Üí Integrations
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ API Token
4. –ü–ª–∞–Ω: Free tier –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–õ–∏–º–∏—Ç—ã Free Plan:**
- $5 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –∫—Ä–µ–¥–∏—Ç–æ–≤ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- ~100-200 –∑–∞–ø—É—Å–∫–æ–≤ –∞–∫—Ç–æ—Ä–∞ –≤ –º–µ—Å—è—Ü (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ–±—ä—ë–º–∞)

**–°—Ç–æ–∏–º–æ—Å—Ç—å:**
- Paid plans: –æ—Ç $49/–º–µ—Å—è—Ü

**–í–∞–∂–Ω–æ:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–∫—Ç–æ—Ä: `petrpatek/facebook-marketplace-scraper`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∞–∫—Ç–æ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω—É–∂–Ω—ã–µ –ª–æ–∫–∞—Ü–∏–∏

### 2. Telegram Bot

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/botfather) –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º (–ø—Ä–∏–¥—É–º–∞–π—Ç–µ –∏–º—è –∏ username)
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω: `1234567890:ABCdefGHIjklMNOpqrsTUVwxyz`

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å Chat ID:**

–í–∞—Ä–∏–∞–Ω—Ç 1 (–¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω–æ–π –≥—Ä—É–ø–ø—ã):
1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—É—é –≥—Ä—É–ø–ø—É –≤ Telegram
2. –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É
3. –°–¥–µ–ª–∞–π—Ç–µ –±–æ—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –≥—Ä—É–ø–ø—É
5. –í—ã–ø–æ–ª–Ω–∏—Ç–µ:
   ```bash
   curl https://api.telegram.org/bot<YOUR_TOKEN>/getUpdates
   ```
6. –ù–∞–π–¥–∏—Ç–µ `"chat":{"id":-1001234567890}` ‚Äî —ç—Ç–æ –≤–∞—à Chat ID

–í–∞—Ä–∏–∞–Ω—Ç 2 (–¥–ª—è –ª–∏—á–Ω–æ–≥–æ —á–∞—Ç–∞):
1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤–∞—à–µ–º—É –±–æ—Ç—É
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ:
   ```bash
   curl https://api.telegram.org/bot<YOUR_TOKEN>/getUpdates
   ```
3. –ù–∞–π–¥–∏—Ç–µ `"chat":{"id":1234567890}`

**–õ–∏–º–∏—Ç—ã:**
- –ë–µ—Å–ø–ª–∞—Ç–Ω–æ
- –î–æ 30 —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Å–µ–∫—É–Ω–¥—É
- –ú–∞–∫—Å–∏–º—É–º 4096 —Å–∏–º–≤–æ–ª–æ–≤ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏

### 3. Groq API

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è LLM –ø—Ä–æ–≤–µ—Ä–∫–∞ (–£—Ä–æ–≤–µ–Ω—å 1)

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å:**
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://console.groq.com/
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ API Keys
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á: Create API Key
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑!)

**–õ–∏–º–∏—Ç—ã Free Tier:**
- 14,400 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –¥–µ–Ω—å
- 30 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É
- –ú–æ–¥–µ–ª—å: `llama-3.1-8b-instant`

**–°—Ç–æ–∏–º–æ—Å—Ç—å:**
- Free tier –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤
- Paid: –ø–æ –∑–∞–ø—Ä–æ—Å—É

### 4. Anthropic (Claude)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –æ–±—ä—è–≤–ª–µ–Ω–∏–π (–£—Ä–æ–≤–µ–Ω—å 2)

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å:**
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://console.anthropic.com/
2. –î–æ–±–∞–≤—å—Ç–µ –ø–ª–∞—Ç—ë–∂–Ω—ã–π –º–µ—Ç–æ–¥ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–∞–∂–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ API Keys
4. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á

**–õ–∏–º–∏—Ç—ã:**
- $5 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –∫—Ä–µ–¥–∏—Ç–æ–≤ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- –ú–æ–¥–µ–ª—å: `claude-3-haiku-20240307`
- ~2000-5000 –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ $5 (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–ª–∏–Ω—ã)

**–°—Ç–æ–∏–º–æ—Å—Ç—å:**
- Claude 3 Haiku: $0.25 –∑–∞ 1M –≤—Ö–æ–¥–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤
- $1.25 –∑–∞ 1M –≤—ã—Ö–æ–¥–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤
- –û–¥–∏–Ω –∑–∞–ø—Ä–æ—Å (~500 —Ç–æ–∫–µ–Ω–æ–≤) ‚âà $0.001

**–†–∞—Å—á—ë—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤:**
- 30 –æ–±—ä—è–≤–ª–µ–Ω–∏–π/—á–∞—Å √ó 24 —á–∞—Å–∞ = 720 –æ–±—ä—è–≤–ª–µ–Ω–∏–π/–¥–µ–Ω—å
- –ï—Å–ª–∏ 10% –ø—Ä–æ—Ö–æ–¥—è—Ç –¥–æ Claude = 72 –∑–∞–ø—Ä–æ—Å–∞/–¥–µ–Ω—å
- 72 √ó $0.001 ‚âà $0.072/–¥–µ–Ω—å ‚âà $2.16/–º–µ—Å—è—Ü

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ .env —Ñ–∞–π–ª–∞

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# Database Configuration
DATABASE_URL=postgresql://realty_user:CHANGE_THIS_PASSWORD@postgres:5432/realty_bot
POSTGRES_PASSWORD=CHANGE_THIS_PASSWORD

# Apify API
APIFY_API_KEY=apify_api_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Telegram Bot
TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
TELEGRAM_CHAT_ID=-1001234567890

# LLM APIs
GROQ_API_KEY=gsk_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
ANTHROPIC_API_KEY=sk-ant-api03-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å .env

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:**
- –ù–ï –∫–æ–º–º–∏—Ç—å—Ç–µ `.env` –≤ Git (—É–∂–µ –≤ `.gitignore`)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è PostgreSQL
- –•—Ä–∞–Ω–∏—Ç–µ API –∫–ª—é—á–∏ –≤ —Å–µ–∫—Ä–µ—Ç–µ
- –ù–∞ VPS —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞: `chmod 600 .env`

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π
- –†–µ–≥—É–ª—è—Ä–Ω–æ —Ä–æ—Ç–∏—Ä—É–π—Ç–µ API –∫–ª—é—á–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ secrets manager –Ω–∞ production (–Ω–∞–ø—Ä–∏–º–µ—Ä, AWS Secrets Manager, HashiCorp Vault)

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ config.json

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

```json
{
  "apify": {
    "max_listings": 30,
    "marketplace_urls": [
      "https://www.facebook.com/marketplace/112439882107535/propertyrentals",
      "https://www.facebook.com/marketplace/112409808777209/propertyrentals",
      "https://www.facebook.com/marketplace/112439885440868/propertyrentals"
    ],
    "locations": [
      "Abiansemal",
      "Singakerta",
      "Mengwi"
    ]
  }
}
```

**–ö–∞–∫ –Ω–∞–π—Ç–∏ URL –¥–ª—è –≤–∞—à–∏—Ö —Ä–∞–π–æ–Ω–æ–≤:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ Facebook Marketplace
2. –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é "Property Rentals"
3. –í–≤–µ–¥–∏—Ç–µ –Ω—É–∂–Ω—ã–π —Ä–∞–π–æ–Ω –≤ –ø–æ–∏—Å–∫
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL –∏–∑ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
5. –î–æ–±–∞–≤—å—Ç–µ –≤ –º–∞—Å—Å–∏–≤ `marketplace_urls`

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤

```json
{
  "filters": {
    "price": {
      "min": 3000000,
      "max": 8000000,
      "currency": "IDR"
    },
    "stop_words": [
      "daily",
      "harian",
      "–ø–æ—Å—É—Ç–æ—á–Ω–æ",
      "per day",
      "per night",
      "nightly",
      "short term",
      "short-term",
      "hotel",
      "homestay"
    ],
    "required_words": [
      "kitchen",
      "kitchenette",
      "dapur"
    ],
    "phone_regex": [
      "\\+?62\\s?8\\d{2}[\\s-]?\\d{3,4}[\\s-]?\\d{3,4}",
      "08\\d{2}[\\s-]?\\d{3,4}[\\s-]?\\d{3,4}"
    ]
  }
}
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥ –≤–∞—à–∏ –Ω—É–∂–¥—ã:**

**–¶–µ–Ω–∞:**
- –£–∫–∞–∂–∏—Ç–µ –¥–∏–∞–ø–∞–∑–æ–Ω –≤ IDR (–∏–Ω–¥–æ–Ω–µ–∑–∏–π—Å–∫–∏—Ö —Ä—É–ø–∏—è—Ö)
- 1,000,000 IDR ‚âà $65 USD
- 3-8 –º–ª–Ω IDR ‚âà $200-$530 USD/–º–µ—Å—è—Ü

**–°—Ç–æ–ø-—Å–ª–æ–≤–∞:**
- –î–æ–±–∞–≤—å—Ç–µ —Å–ª–æ–≤–∞, –∫–æ—Ç–æ—Ä—ã–µ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–ª–æ–≤–∞ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Å–ª–æ–≤–∞:**
- –û–±—ä—è–≤–ª–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ –∏–∑ —ç—Ç–∏—Ö —Å–ª–æ–≤
- `kitchen` (–∞–Ω–≥–ª), `dapur` (–∏–Ω–¥–æ–Ω–µ–∑)

**Phone regex:**
- –ü–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –∏–Ω–¥–æ–Ω–µ–∑–∏–π—Å–∫–∏—Ö –Ω–æ–º–µ—Ä–æ–≤
- –§–æ—Ä–º–∞—Ç: +62 8XX-XXXX-XXXX –∏–ª–∏ 08XX-XXXX-XXXX

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ LLM

```json
{
  "llm": {
    "groq": {
      "model": "llama-3.1-8b-instant",
      "temperature": 0.1,
      "max_tokens": 50,
      "prompt_template": "You are a real estate assistant..."
    },
    "claude": {
      "model": "claude-3-haiku-20240307",
      "temperature": 0.3,
      "max_tokens": 500,
      "search_criteria": "–¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è –∞—Ä–µ–Ω–¥–∞ –¥–æ–º–∞ –∏–ª–∏ –≤–∏–ª–ª—ã —Å –∫—É—Ö–Ω–µ–π –Ω–∞ –ë–∞–ª–∏, –±—é–¥–∂–µ—Ç 3-8 –º–ª–Ω IDR –≤ –º–µ—Å—è—Ü",
      "prompt_template": "–¢—ã ‚Äî –º–æ–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø–æ –ø–æ–∏—Å–∫—É –∂–∏–ª—å—è –Ω–∞ –ë–∞–ª–∏..."
    }
  }
}
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `temperature`: 0.0-1.0 (–Ω–∏–∂–µ = –±–æ–ª–µ–µ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ)
- `max_tokens`: –º–∞–∫—Å–∏–º—É–º —Ç–æ–∫–µ–Ω–æ–≤ –≤ –æ—Ç–≤–µ—Ç–µ
- `search_criteria`: –≤–∞—à–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø–æ–∏—Å–∫–∞

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

```json
{
  "telegram": {
    "message_template": "üè° *–ù–æ–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç!*\n\n*–í—ã–∂–∏–º–∫–∞:* {summary_ru}\n*–¶–µ–Ω–∞:* {price}\n*–¢–µ–ª–µ—Ñ–æ–Ω:* {phone}\n*–°—Å—ã–ª–∫–∞:* {url}\n\n---\n*–°–æ–æ–±—â–µ–Ω–∏–µ (—Å–∫–æ–ø–∏—Ä—É–π –∏ –≤—Å—Ç–∞–≤—å):*\n\n*(EN):*\n{msg_en}\n\n*(ID):*\n{msg_id}"
  }
}
```

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω–∞:**
- `{summary_ru}` ‚Äî –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –æ—Ç Claude
- `{price}` ‚Äî —Ü–µ–Ω–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- `{phone}` ‚Äî —Ç–µ–ª–µ—Ñ–æ–Ω (–µ—Å–ª–∏ –Ω–∞–π–¥–µ–Ω)
- `{url}` ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ
- `{msg_en}` ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º –æ—Ç Claude
- `{msg_id}` ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ –∏–Ω–¥–æ–Ω–µ–∑–∏–π—Å–∫–æ–º –æ—Ç Claude

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

```json
{
  "logging": {
    "level": "INFO",
    "format": "%(asctime)s - %(name)s - %(levelname)s - %(message)s",
    "file": "logs/realty_bot.log"
  }
}
```

**–£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:**
- `DEBUG` ‚Äî –º–∞–∫—Å–∏–º—É–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
- `INFO` ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å
- `WARNING` ‚Äî —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∏ –æ—à–∏–±–∫–∏
- `ERROR` ‚Äî —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è (cron)

### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ crontab

–§–∞–π–ª: `crontab`

```
# –ó–∞–ø—É—Å–∫ –∫–∞–∂–¥—ã–π —á–∞—Å –≤ 0 –º–∏–Ω—É—Ç
0 * * * * cd /app && /usr/local/bin/python3 /app/src/main.py >> /var/log/cron.log 2>&1

# –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–ê!
```

### –ü—Ä–∏–º–µ—Ä—ã —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π

```bash
# –ö–∞–∂–¥—ã–π —á–∞—Å
0 * * * *

# –ö–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç
*/30 * * * *

# –ö–∞–∂–¥—ã–µ 2 —á–∞—Å–∞
0 */2 * * *

# –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 9:00
0 9 * * *

# –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 9:00 –∏ 21:00
0 9,21 * * *

# –ö–∞–∂–¥—ã–π —á–∞—Å —Å 9:00 –¥–æ 21:00
0 9-21 * * *

# –ö–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç –≤ —Ä–∞–±–æ—á–∏–µ —á–∞—Å—ã
*/15 9-18 * * 1-5
```

**–§–æ—Ä–º–∞—Ç cron:**
```
–º–∏–Ω—É—Ç–∞ —á–∞—Å –¥–µ–Ω—å –º–µ—Å—è—Ü –¥–µ–Ω—å_–Ω–µ–¥–µ–ª–∏ –∫–æ–º–∞–Ω–¥–∞
0-59   0-23 1-31 1-12  0-7 (0 –∏ 7 = –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ)
```

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —á–∞—Å—Ç–æ—Ç–µ

**–§–∞–∫—Ç–æ—Ä—ã –≤—ã–±–æ—Ä–∞ —á–∞—Å—Ç–æ—Ç—ã:**

1. **–õ–∏–º–∏—Ç—ã Apify:**
   - Free tier: $5 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –∫—Ä–µ–¥–∏—Ç–æ–≤
   - –û–¥–∏–Ω –∑–∞–ø—É—Å–∫ –∞–∫—Ç–æ—Ä–∞: ~$0.04-0.05
   - $5 —Ö–≤–∞—Ç–∏—Ç –Ω–∞ ~100-125 –∑–∞–ø—É—Å–∫–æ–≤
   
   **–†–∞—Å—á–µ—Ç –∑–∞–ø—É—Å–∫–æ–≤ –≤ –º–µ—Å—è—Ü:**
   - –ö–∞–∂–¥—ã–π —á–∞—Å = 720 –∑–∞–ø—É—Å–∫–æ–≤/–º–µ—Å—è—Ü ‚ùå (~$28 - –Ω—É–∂–µ–Ω –ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω)
   - –ö–∞–∂–¥—ã–µ 2 —á–∞—Å–∞ = 360 –∑–∞–ø—É—Å–∫–æ–≤/–º–µ—Å—è—Ü ‚ùå (~$14 - –Ω—É–∂–µ–Ω –ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω)
   - –ö–∞–∂–¥—ã–µ 4 —á–∞—Å–∞ = 180 –∑–∞–ø—É—Å–∫–æ–≤/–º–µ—Å—è—Ü ‚ùå (~$7 - –Ω—É–∂–µ–Ω –ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω)
   - **4 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å = 120 –∑–∞–ø—É—Å–∫–æ–≤/–º–µ—Å—è—Ü ‚úÖ (~$4.80 - –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è free)**
   - 3 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å = 90 –∑–∞–ø—É—Å–∫–æ–≤/–º–µ—Å—è—Ü ‚úÖ (~$3.60 - –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è free)
   - 2 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å = 60 –∑–∞–ø—É—Å–∫–æ–≤/–º–µ—Å—è—Ü ‚úÖ (~$2.40 - –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è free)

2. **–õ–∏–º–∏—Ç—ã LLM:**
   - Groq: 14,400 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –ª—é–±–æ–π —á–∞—Å—Ç–æ—Ç—ã)
   - Claude: $5 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –∫—Ä–µ–¥–∏—Ç–æ–≤ (~2000-5000 –∞–Ω–∞–ª–∏–∑–æ–≤)

3. **–ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–π:**
   - –í—ã—Å–æ–∫–∏–π —Å–ø—Ä–æ—Å: 4-6 —Ä–∞–∑ –≤ –¥–µ–Ω—å
   - –°—Ä–µ–¥–Ω–∏–π —Å–ø—Ä–æ—Å: 3-4 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å
   - –ù–∏–∑–∫–∏–π —Å–ø—Ä–æ—Å: 2 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è Free tier Apify:**

```bash
# 4 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å –≤ –∞–∫—Ç–∏–≤–Ω—ã–µ —á–∞—Å—ã (–∏—Å–∫–ª—é—á–∞—è –Ω–æ—á—å)
0 8,12,16,20 * * *

# –ò–ª–∏ –≤ —Ä–∞–±–æ—á–∏–µ —á–∞—Å—ã
0 9,13,17,21 * * *
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –Ω–∞—á–Ω–∏—Ç–µ —Å 4 —Ä–∞–∑ –≤ –¥–µ–Ω—å (8:00, 12:00, 16:00, 20:00), –∑–∞—Ç–µ–º –∞–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ –ø–æ–¥ —Å–≤–æ–∏ –Ω—É–∂–¥—ã

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

### –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

- [ ] Docker –∏ Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] –í—Å–µ API –∫–ª—é—á–∏ –ø–æ–ª—É—á–µ–Ω—ã –∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `.env`
- [ ] `.env` —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω
- [ ] `config.json` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø–æ–¥ –≤–∞—à–∏ –∫—Ä–∏—Ç–µ—Ä–∏–∏
- [ ] Facebook Marketplace URL –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [ ] Telegram Bot —Å–æ–∑–¥–∞–Ω –∏ –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≥—Ä—É–ø–ø—É
- [ ] Telegram Chat ID –ø–æ–ª—É—á–µ–Ω
- [ ] –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `logs/` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- [ ] `.env` –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`

### –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ Docker
docker --version
docker-compose --version

# 2. –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker-compose build

# 3. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose up -d

# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps

# 5. –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f bot

# 6. –†—É—á–Ω–æ–π —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫
docker-compose exec bot python3 /app/src/main.py

# 7. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î
docker-compose exec postgres psql -U realty_user -d realty_bot -c "SELECT COUNT(*) FROM fb_listings;"
```

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:

1. **–í –ª–æ–≥–∞—Ö:**
   ```
   RealtyBot-Bali started
   Initializing components...
   Starting scraping process...
   Scraped X raw listings
   Processing listing 1/X: ...
   ```

2. **–í –ë–î:**
   ```sql
   SELECT COUNT(*) FROM fb_listings;
   -- –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è N –∑–∞–ø–∏—Å–µ–π
   ```

3. **–í Telegram:**
   - –°–æ–æ–±—â–µ–Ω–∏—è —Å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–º–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏ (–µ—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã)

## –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### –î–ª—è –±–æ–ª—å—à–µ–≥–æ –æ–±—ä—ë–º–∞

**–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –±–æ–ª—å—à–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π:**

1. –£–≤–µ–ª–∏—á—å—Ç–µ `max_listings` –≤ `config.json`:
   ```json
   {
     "apify": {
       "max_listings": 100
     }
   }
   ```

2. –î–æ–±–∞–≤—å—Ç–µ –±–æ–ª—å—à–µ URL –≤ `marketplace_urls`

3. –£–≤–µ–ª–∏—á—å—Ç–µ —Ä–µ—Å—É—Ä—Å—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤ `docker-compose.yml`:
   ```yaml
   services:
     bot:
       deploy:
         resources:
           limits:
             memory: 2G
   ```

4. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω Apify

### –î–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ª–æ–∫–∞—Ü–∏–π

–ú–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ –±–æ—Ç–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ª–æ–∫–∞—Ü–∏–π:

```bash
# –õ–æ–∫–∞—Ü–∏—è 1: –ë–∞–ª–∏
cd ~/bali-bot
docker-compose up -d

# –õ–æ–∫–∞—Ü–∏—è 2: –ü—Ö—É–∫–µ—Ç
cd ~/phuket-bot
docker-compose up -d
```

–ö–∞–∂–¥—ã–π –∏–Ω—Å—Ç–∞–Ω—Å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å:
- –°–≤–æ–π `.env` —Ñ–∞–π–ª
- –°–≤–æ–π `config.json`
- –°–≤–æ–π –ø–æ—Ä—Ç PostgreSQL (–∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—É—é –ë–î)

## –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
# –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è config.json
docker-compose restart bot

# –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è .env
docker-compose down
docker-compose up -d
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞

```bash
# –ü–æ–ª—É—á–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ Git
git pull origin main

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑
docker-compose up --build -d
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è requirements.txt
docker-compose build --no-cache
docker-compose up -d
```

## –ë—ç–∫–∞–ø—ã

### –ë—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø
docker-compose exec postgres pg_dump -U realty_user realty_bot > backup_$(date +%Y%m%d).sql

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±—ç–∫–∞–ø
docker-compose exec -T postgres psql -U realty_user realty_bot < backup_20241028.sql
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø

–î–æ–±–∞–≤—å—Ç–µ –≤ cron –Ω–∞ —Ö–æ—Å—Ç–µ:

```bash
# –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±—ç–∫–∞–ø –≤ 3:00
0 3 * * * cd /path/to/estate && docker-compose exec -T postgres pg_dump -U realty_user realty_bot > /backups/realty_bot_$(date +\%Y\%m\%d).sql
```

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [TROUBLESHOOTING.md](TROUBLESHOOTING.md)
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker-compose logs bot`
4. –°–æ–∑–¥–∞–π—Ç–µ Issue –Ω–∞ GitHub —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º
